import{_ as X,o as d,d as b,x as $,y as ee,z as o,A as oe,B as ne,C as te,a as ae,D as le,I as se,E as ie,G as re,H as ce,h as ue,J as i,u as de,K as z,L as me,M as pe,r,b as L,w as l,v as a,N as O,e as Y,F as Z,f as g,O as q,P as W,t as f}from"./index-uZ0D_XPg.js";const ve={},P=u=>($("data-v-931c21a8"),u=u(),ee(),u),_e={class:"dot-container"},fe=P(()=>o("div",{class:"dot-left"},null,-1)),be=P(()=>o("div",{class:"dot-middle"},null,-1)),ge=P(()=>o("div",{class:"dot-right"},null,-1)),he=[fe,be,ge];function ye(u,m){return d(),b("div",_e,he)}const Ne=X(ve,[["render",ye],["__scopeId","data-v-931c21a8"]]),Te={components:{"base-menu-app":oe,"sol-de":ne,"empty-modal":te,"loa-der":Ne,IonItem:ae,IonInput:le,IonList:se,IonButton:ie,IonSelect:re,IonSelectOption:ce,IonLabel:ue},setup(){const u=i(!1),m="//127.0.0.1:8002";async function j(){const t=new FormData;t.append("currency","BIF");try{const s=await fetch("".concat(m,"/jov/api/principal/receiveDepot/"),{method:"POST",body:t});s.ok?(console.log("La reponse est bien: ",s),u.value=!0):(console.log("La reponse n'est pas bon"),u.value=!1)}catch(s){console.log("VOus avez rencontre une erreur supprenant : ",s),u.value=!1}}const e=i(!1),h=i(!1),M=i(!1),D=()=>{if(M.value)return M.value=!1,0;e.value?(e.value=!1,h.value=!h.value):(e.value=!0,console.log("START SENDING ..."),j(),console.log("END SENDING"),setTimeout(()=>{h.value=!h.value},5e3))},p=de();i(null);const v=i(null),E=[1,2,3,4,5,6,7,8,9,10,11];var c=[];const S=[{id:1,name:"US Dollar",country:"International",abbreviation:"USD"},{id:2,name:"Fbu",country:"Bi",abbreviation:"BIF"},{id:3,name:"Frw",country:"Rw",abbreviation:"RWF"},{id:4,name:"ShillingKenya",country:"Ke",abbreviation:"KES"},{id:5,name:"Ugshilling",country:"Ug",abbreviation:"UGX"},{id:6,name:"ShillingTanzania",country:"Tz",abbreviation:"Tsh"},{id:7,name:"Kwacha",country:"Zm",abbreviation:"ZMW"},{id:8,name:"Euro",country:"International",abbreviation:"EUR"},{id:9,name:"USDT",country:"Crypto",abbreviation:"USDT"},{id:10,name:"TRX",country:"Crypto",abbreviation:"USD"},{id:11,name:"Lit Dinar",country:"Principale",abbreviation:"LID"}],y=i([]);let N=i("");function F(){var t=p.state.top5.concat(E);let s=new Set(t);c=Array.from(s),console.log("INVEST CHUNK: the wanted BEFORE action: ",c);let I=[];c.forEach(_=>{_!==0&&I.push(_)}),c=I,console.log("INVEST CHUNK: the wanted AFTER action: ",c)}function V(){var t=[];const s=c.length;for(let I=0;I<s;I++)S.forEach(_=>{if(c[I]==_.id){let Q={id:_.id,name:_.name,country:_.country,abbreviation:_.abbreviation};t.push(Q)}});y.value=t,console.log("INVESTED CONSTRUCT: finished has : ",y.value)}function U(){p.commit("addTop5",{value:v.value})}function A(){localStorage.setItem("top5",p.getters.getTop5)}function n(){console.log("store Before upload :",p.getters.getTop5);const t=localStorage.getItem("top5");p.dispatch("uploadTop5",t),console.log("store After upload :",p.getters.getTop5)}function K(){F(),V()}function J(){console.log("INVEST SETUP: START Initialization"),n(),K(),console.log("INVEST SETUP: END Initialization")}J(),z(v,t=>{y?(N.value=S[t-1].abbreviation,console.log("Finished is available : ",N.value),console.log("Sel : ",v.value," Val: ",t)):console.log("Finished is not available")}),me(()=>{console.log("INVEST onBeforeUpdate: Start"),U(),K(),console.log("Here, the currency is : ",N.value),console.log("INVEST onBeforeUpdate: End")}),pe(()=>{console.log("INVEST: You are about to leave me, ONBEFOREUNMOUNT"),console.log("INVEST: Now downloading, ONBEFOREUNMOUNT"),v.value?(U(),A(),console.log("INVEST ONBEFOREUNMOUNT: have downloaded: ",v.value)):console.log("INVEST: didn't download, ONBEFOREUNMOUNT"),console.log("INVEST: END downloading, ONBEFOREUNMOUNT")});var C=0,R=0,w=0,G=i(0);const x=i(null),T=i(null),k=i(""),B=[{id:1,duree:"1 mois",number:1,taux:.2},{id:2,duree:"3 mois",number:3,taux:.7},{id:3,duree:"6 mois",number:6,taux:1.7},{id:4,duree:"1 ans",number:12,taux:3.8},{id:5,duree:"2 ans",number:24,taux:8},{id:6,duree:"3 ans",number:36,taux:12.5},{id:7,duree:"5 ans",number:60,taux:22}];function H(t){if(T.value){let s=T.value;k.value=B[s-1].duree,C=B[s-1].taux,console.log("You chose rate: ",C),R=B[s-1].number,console.log("You chose duree: ",R),w=C/100*x.value*(R/12),console.log("Votre Interet est: ",w),G.value=Number(x.value)+Number(w)}}return z(T,t=>{H(T.value),console.log("Vous voulez une periode de : ",k.value)}),z(x,t=>{H(T.value)}),{selectedPlan:T,plans:B,capital:x,result:G,interest:w,periode:k,finished:y,selectedItem:v,currency:N,store:p,modalActive:h,waiter:e,respoOperation:u,toogleModal:D}}},Ie={key:0,class:"avatar-container"},Ee=o("span",{style:{"margin-right":"1rem"}}," ",-1),Se=o("br",null,null,-1),Ve={key:1,class:"loader",style:{"background-color":"transparent",position:"fixed",top:"60%",left:"50%",transform:"translate(-50%, -50%)","z-index":"5"}},Ue={key:2,class:"home"},we=o("div",{class:"modal-contente"},[o("h1",null,"Confirmation "),o("p",null,[g("Merci pour votre dépôt. Nous traitons votre demande et vous informerons dès qu'elle sera approuvée. "),o("br"),g(" Veuillez vérifier votre boîte de notifications pour les mises à jour. "),o("br"),o("span",{style:{"font-size":"2.3vh",display:"inline-flex",position:"relative","margin-top":"3vh"}}," Ceci pourra prendre au maximum 10 minutes.")])],-1),xe={key:3,class:"home"},Be=o("div",null,[o("h1",{class:"modal-content modal-content-erreur"},"Une erreur est survenue "),o("p",null,[g("Nous n'avons pas pu finaliser votre opération suite à un problème de connexion au serveur. "),o("br"),o("span",{style:{"font-size":"2.3vh",display:"inline-flex",position:"relative","margin-top":"3vh"}}," Veuillez réessayer ultérieurement.")])],-1),Oe=o("br",null,null,-1),Me=o("br",null,null,-1),De=o("br",null,null,-1);function Fe(u,m,j,e,h,M){const D=r("ava-tar"),p=r("sol-de"),v=r("ion-select-option"),E=r("ion-select"),c=r("ion-item"),S=r("ion-label"),y=r("ion-input"),N=r("ion-list"),F=r("loa-der"),V=r("empty-modal"),U=r("ion-button"),A=r("base-menu-app");return d(),L(A,{pageTitle:"Investissements",baArrow:"true"},{default:l(()=>[e.store.getters.getLastActivity!==null?(d(),b("div",Ie,[a(D)])):O("",!0),a(p),a(N,null,{default:l(()=>[a(c,null,{default:l(()=>[a(E,{"label-placement":"floating",justify:"space-between",label:"Investir avec",placeholder:"votre methode de paiement",modelValue:e.selectedItem,"onUpdate:modelValue":m[0]||(m[0]=n=>e.selectedItem=n)},{default:l(()=>[(d(!0),b(Z,null,Y(e.finished,n=>(d(),L(v,{class:"jov",value:n.id},{default:l(()=>[g(f(n.name)+" ("+f(n.country)+") ",1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1}),a(c,null,{default:l(()=>[a(S,null,{default:l(()=>[g("Montant")]),_:1}),Ee,a(y,{color:"primary",placeholder:"ou la taille de votre investissement","aria-label":"du destinataire",type:"number",modelValue:e.capital,"onUpdate:modelValue":m[1]||(m[1]=n=>e.capital=n)},null,8,["modelValue"])]),_:1}),a(c,null,{default:l(()=>[a(E,{"label-placement":"floating",justify:"space-between",label:"Choisissez votre plan d'investissement",placeholder:"votre methode de paiement",modelValue:e.selectedPlan,"onUpdate:modelValue":m[2]||(m[2]=n=>e.selectedPlan=n)},{default:l(()=>[(d(!0),b(Z,null,Y(e.plans,n=>(d(),L(v,{class:"jov",value:n.id},{default:l(()=>[g(f(n.duree)+" ("+f(n.taux)+"%) ",1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),q(o("span",{style:{display:"inline-flex",position:"relative","margin-top":"10px","font-size":"1.12em"},class:"whiteOnly centered"}," Vous aurez "+f(e.result)+" ("+f(e.currency)+") après une période de "+f(e.periode)+".",513),[[W,e.selectedPlan&&e.capital]]),Se,e.waiter?(d(),b("div",Ve,[a(F)])):O("",!0),e.respoOperation?(d(),b("div",Ue,[a(V,{onByeModal:e.toogleModal,modalActive:e.modalActive,erreur:"false"},{default:l(()=>[we]),_:1},8,["onByeModal","modalActive"])])):O("",!0),e.respoOperation?O("",!0):(d(),b("div",xe,[a(V,{onByeModal:e.toogleModal,modalActive:e.modalActive,erreur:"true"},{default:l(()=>[Be]),_:1},8,["onByeModal","modalActive"])])),Oe,Me,De,q(a(U,{id:"confirmButton",expand:"block",onClick:e.toogleModal},{default:l(()=>[g("Confirmer")]),_:1},8,["onClick"]),[[W,!e.modalActive&&e.selectedItem]])]),_:1})}const Ce=X(Te,[["render",Fe]]);export{Ce as default};
