import{_ as J,x as Q,y as $,z as ee,L as oe,a as ne,A as te,I as ae,B as le,C as ie,D as se,h as re,E as s,u as ue,G as z,H as ce,J as de,r,o as m,b as L,w as l,d as T,v as a,K as O,e as H,F as Y,f as b,M as Z,N as q,O as o,t as f}from"./index-C2s9bfSy.js";const me={components:{"base-menu-app":Q,"sol-de":$,"empty-modal":ee,"loa-der":oe,IonItem:ne,IonInput:te,IonList:ae,IonButton:le,IonSelect:ie,IonSelectOption:se,IonLabel:re},setup(){const E=s(!1),p="//127.0.0.1:8002";async function P(){const t=new FormData;t.append("currency","BIF");try{const i=await fetch("".concat(p,"/jov/api/principal/receiveDepot/"),{method:"POST",body:t});i.ok?(console.log("La reponse est bien: ",i),E.value=!0):(console.log("La reponse n'est pas bon"),E.value=!1)}catch(i){console.log("VOus avez rencontre une erreur supprenant : ",i),E.value=!1}}const e=s(!1),_=s(!1),M=s(!1),D=()=>{if(M.value)return M.value=!1,0;e.value?(e.value=!1,_.value=!_.value):(e.value=!0,console.log("START SENDING ..."),P(),console.log("END SENDING"),setTimeout(()=>{_.value=!_.value},5e3))},c=ue();s(null);const d=s(null),I=[1,2,3,4,5,6,7,8,9,10,11];var u=[];const S=[{id:1,name:"US Dollar",country:"International",abbreviation:"USD"},{id:2,name:"Fbu",country:"Bi",abbreviation:"BIF"},{id:3,name:"Frw",country:"Rw",abbreviation:"RWF"},{id:4,name:"ShillingKenya",country:"Ke",abbreviation:"KES"},{id:5,name:"Ugshilling",country:"Ug",abbreviation:"UGX"},{id:6,name:"ShillingTanzania",country:"Tz",abbreviation:"Tsh"},{id:7,name:"Kwacha",country:"Zm",abbreviation:"ZMW"},{id:8,name:"Euro",country:"International",abbreviation:"EUR"},{id:9,name:"USDT",country:"Crypto",abbreviation:"USDT"},{id:10,name:"TRX",country:"Crypto",abbreviation:"USD"},{id:11,name:"Lit Dinar",country:"Principale",abbreviation:"LID"}],g=s([]);let h=s("");function F(){var t=c.state.top5.concat(I);let i=new Set(t);u=Array.from(i),console.log("INVEST CHUNK: the wanted BEFORE action: ",u);let N=[];u.forEach(v=>{v!==0&&N.push(v)}),u=N,console.log("INVEST CHUNK: the wanted AFTER action: ",u)}function V(){var t=[];const i=u.length;for(let N=0;N<i;N++)S.forEach(v=>{if(u[N]==v.id){let X={id:v.id,name:v.name,country:v.country,abbreviation:v.abbreviation};t.push(X)}});g.value=t,console.log("INVESTED CONSTRUCT: finished has : ",g.value)}function U(){c.commit("addTop5",{value:d.value})}function A(){localStorage.setItem("top5",c.getters.getTop5)}function n(){console.log("store Before upload :",c.getters.getTop5);const t=localStorage.getItem("top5");c.dispatch("uploadTop5",t),console.log("store After upload :",c.getters.getTop5)}function j(){F(),V()}function W(){console.log("INVEST SETUP: START Initialization"),n(),j(),console.log("INVEST SETUP: END Initialization")}W(),z(d,t=>{g?(h.value=S[t-1].abbreviation,console.log("Finished is available : ",h.value),console.log("Sel : ",d.value," Val: ",t)):console.log("Finished is not available")}),ce(()=>{console.log("INVEST onBeforeUpdate: Start"),U(),j(),console.log("Here, the currency is : ",h.value),console.log("INVEST onBeforeUpdate: End")}),de(()=>{console.log("INVEST: You are about to leave me, ONBEFOREUNMOUNT"),console.log("INVEST: Now downloading, ONBEFOREUNMOUNT"),d.value?(U(),A(),console.log("INVEST ONBEFOREUNMOUNT: have downloaded: ",d.value)):console.log("INVEST: didn't download, ONBEFOREUNMOUNT"),console.log("INVEST: END downloading, ONBEFOREUNMOUNT")});var C=0,R=0,w=0,K=s(0);const x=s(null),y=s(null),k=s(""),B=[{id:1,duree:"1 mois",number:1,taux:.2},{id:2,duree:"3 mois",number:3,taux:.7},{id:3,duree:"6 mois",number:6,taux:1.7},{id:4,duree:"1 ans",number:12,taux:3.8},{id:5,duree:"2 ans",number:24,taux:8},{id:6,duree:"3 ans",number:36,taux:12.5},{id:7,duree:"5 ans",number:60,taux:22}];function G(t){if(y.value){let i=y.value;k.value=B[i-1].duree,C=B[i-1].taux,console.log("You chose rate: ",C),R=B[i-1].number,console.log("You chose duree: ",R),w=C/100*x.value*(R/12),console.log("Votre Interet est: ",w),K.value=Number(x.value)+Number(w)}}return z(y,t=>{G(y.value),console.log("Vous voulez une periode de : ",k.value)}),z(x,t=>{G(y.value)}),{selectedPlan:y,plans:B,capital:x,result:K,interest:w,periode:k,finished:g,selectedItem:d,currency:h,store:c,modalActive:_,waiter:e,respoOperation:E,toogleModal:D}}},pe={key:0,class:"avatar-container"},ve=o("span",{style:{"margin-right":"1rem"}}," ",-1),fe=o("br",null,null,-1),be={key:1,class:"loader",style:{"background-color":"transparent",position:"fixed",top:"60%",left:"50%",transform:"translate(-50%, -50%)","z-index":"5"}},_e={key:2,class:"home"},ge=o("div",{class:"modal-contente"},[o("h1",null,"Confirmation "),o("p",null,[b("Merci pour votre dépôt. Nous traitons votre demande et vous informerons dès qu'elle sera approuvée. "),o("br"),b(" Veuillez vérifier votre boîte de notifications pour les mises à jour. "),o("br"),o("span",{style:{"font-size":"2.3vh",display:"inline-flex",position:"relative","margin-top":"3vh"}}," Ceci pourra prendre au maximum 10 minutes.")])],-1),he={key:3,class:"home"},ye=o("div",null,[o("h1",{class:"modal-content modal-content-erreur"},"Une erreur est survenue "),o("p",null,[b("Nous n'avons pas pu finaliser votre opération suite à un problème de connexion au serveur. "),o("br"),o("span",{style:{"font-size":"2.3vh",display:"inline-flex",position:"relative","margin-top":"3vh"}}," Veuillez réessayer ultérieurement.")])],-1),Ne=o("br",null,null,-1),Te=o("br",null,null,-1),Ee=o("br",null,null,-1);function Ie(E,p,P,e,_,M){const D=r("ava-tar"),c=r("sol-de"),d=r("ion-select-option"),I=r("ion-select"),u=r("ion-item"),S=r("ion-label"),g=r("ion-input"),h=r("ion-list"),F=r("loa-der"),V=r("empty-modal"),U=r("ion-button"),A=r("base-menu-app");return m(),L(A,{pageTitle:"Investissements",baArrow:"true"},{default:l(()=>[e.store.getters.getLastActivity!==null?(m(),T("div",pe,[a(D)])):O("",!0),a(c),a(h,null,{default:l(()=>[a(u,null,{default:l(()=>[a(I,{"label-placement":"floating",justify:"space-between",label:"Investir avec",placeholder:"votre methode de paiement",modelValue:e.selectedItem,"onUpdate:modelValue":p[0]||(p[0]=n=>e.selectedItem=n)},{default:l(()=>[(m(!0),T(Y,null,H(e.finished,n=>(m(),L(d,{class:"jov",value:n.id},{default:l(()=>[b(f(n.name)+" ("+f(n.country)+") ",1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1}),a(u,null,{default:l(()=>[a(S,null,{default:l(()=>[b("Montant")]),_:1}),ve,a(g,{color:"primary",placeholder:"ou la taille de votre investissement","aria-label":"du destinataire",type:"number",modelValue:e.capital,"onUpdate:modelValue":p[1]||(p[1]=n=>e.capital=n)},null,8,["modelValue"])]),_:1}),a(u,null,{default:l(()=>[a(I,{"label-placement":"floating",justify:"space-between",label:"Choisissez votre plan d'investissement",placeholder:"votre methode de paiement",modelValue:e.selectedPlan,"onUpdate:modelValue":p[2]||(p[2]=n=>e.selectedPlan=n)},{default:l(()=>[(m(!0),T(Y,null,H(e.plans,n=>(m(),L(d,{class:"jov",value:n.id},{default:l(()=>[b(f(n.duree)+" ("+f(n.taux)+"%) ",1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),Z(o("span",{style:{display:"inline-flex",position:"relative","margin-top":"10px","font-size":"1.12em"},class:"whiteOnly centered"}," Vous aurez "+f(e.result)+" ("+f(e.currency)+") après une période de "+f(e.periode)+".",513),[[q,e.selectedPlan&&e.capital]]),fe,e.waiter?(m(),T("div",be,[a(F)])):O("",!0),e.respoOperation?(m(),T("div",_e,[a(V,{onByeModal:e.toogleModal,modalActive:e.modalActive,erreur:"false"},{default:l(()=>[ge]),_:1},8,["onByeModal","modalActive"])])):O("",!0),e.respoOperation?O("",!0):(m(),T("div",he,[a(V,{onByeModal:e.toogleModal,modalActive:e.modalActive,erreur:"true"},{default:l(()=>[ye]),_:1},8,["onByeModal","modalActive"])])),Ne,Te,Ee,Z(a(U,{id:"confirmButton",expand:"block",onClick:e.toogleModal},{default:l(()=>[b("Confirmer")]),_:1},8,["onClick"]),[[q,!e.modalActive&&e.selectedItem]])]),_:1})}const Ve=J(me,[["render",Ie]]);export{Ve as default};
