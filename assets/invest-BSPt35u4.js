import{_ as J,x as Q,y as $,z as ee,L as oe,a as ne,A as te,I as ae,B as le,C as ie,D as se,h as re,E as s,u as ue,G as R,H as ce,J as de,r,o as v,b as z,w as a,v as l,d as I,e as G,F as H,f as b,K as Y,M as Z,N as o,t as f,O as k}from"./index-DeqK-4zu.js";const me={components:{"base-menu-app":Q,"sol-de":$,"empty-modal":ee,"loa-der":oe,IonItem:ne,IonInput:te,IonList:ae,IonButton:le,IonSelect:ie,IonSelectOption:se,IonLabel:re},setup(){const T=s(!1),m="//127.0.0.1:8002";async function L(){const t=new FormData;t.append("currency","BIF");try{const i=await fetch("".concat(m,"/jov/api/principal/receiveDepot/"),{method:"POST",body:t});i.ok?(console.log("La reponse est bien: ",i),T.value=!0):(console.log("La reponse n'est pas bon"),T.value=!1)}catch(i){console.log("VOus avez rencontre une erreur supprenant : ",i),T.value=!1}}const e=s(!1),_=s(!1),O=s(!1),M=()=>{if(O.value)return O.value=!1,0;e.value?(e.value=!1,_.value=!_.value):(e.value=!0,console.log("START SENDING ..."),L(),console.log("END SENDING"),setTimeout(()=>{_.value=!_.value},5e3))},u=ue();s(null);const c=s(null),E=[1,2,3,4,5,6,7,8,9,10,11];var d=[];const S=[{id:1,name:"US Dollar",country:"International",abbreviation:"USD"},{id:2,name:"Fbu",country:"Bi",abbreviation:"BIF"},{id:3,name:"Frw",country:"Rw",abbreviation:"RWF"},{id:4,name:"ShillingKenya",country:"Ke",abbreviation:"KES"},{id:5,name:"Ugshilling",country:"Ug",abbreviation:"UGX"},{id:6,name:"ShillingTanzania",country:"Tz",abbreviation:"Tsh"},{id:7,name:"Kwacha",country:"Zm",abbreviation:"ZMW"},{id:8,name:"Euro",country:"International",abbreviation:"EUR"},{id:9,name:"USDT",country:"Crypto",abbreviation:"USDT"},{id:10,name:"TRX",country:"Crypto",abbreviation:"USD"},{id:11,name:"Lit Dinar",country:"Principale",abbreviation:"LID"}],g=s([]);let h=s("");function V(){var t=u.state.top5.concat(E);let i=new Set(t);d=Array.from(i),console.log("INVEST CHUNK: the wanted BEFORE action: ",d);let N=[];d.forEach(p=>{p!==0&&N.push(p)}),d=N,console.log("INVEST CHUNK: the wanted AFTER action: ",d)}function D(){var t=[];const i=d.length;for(let N=0;N<i;N++)S.forEach(p=>{if(d[N]==p.id){let X={id:p.id,name:p.name,country:p.country,abbreviation:p.abbreviation};t.push(X)}});g.value=t,console.log("INVESTED CONSTRUCT: finished has : ",g.value)}function U(){u.commit("addTop5",{value:c.value})}function n(){localStorage.setItem("top5",u.getters.getTop5)}function q(){console.log("store Before upload :",u.getters.getTop5);const t=localStorage.getItem("top5");u.dispatch("uploadTop5",t),console.log("store After upload :",u.getters.getTop5)}function P(){V(),D()}function W(){console.log("INVEST SETUP: START Initialization"),q(),P(),console.log("INVEST SETUP: END Initialization")}W(),R(c,t=>{g?(h.value=S[t-1].abbreviation,console.log("Finished is available : ",h.value),console.log("Sel : ",c.value," Val: ",t)):console.log("Finished is not available")}),ce(()=>{console.log("INVEST onBeforeUpdate: Start"),U(),P(),console.log("Here, the currency is : ",h.value),console.log("INVEST onBeforeUpdate: End")}),de(()=>{console.log("INVEST: You are about to leave me, ONBEFOREUNMOUNT"),console.log("INVEST: Now downloading, ONBEFOREUNMOUNT"),c.value?(U(),n(),console.log("INVEST ONBEFOREUNMOUNT: have downloaded: ",c.value)):console.log("INVEST: didn't download, ONBEFOREUNMOUNT"),console.log("INVEST: END downloading, ONBEFOREUNMOUNT")});var F=0,A=0,w=0,j=s(0);const x=s(null),y=s(null),C=s(""),B=[{id:1,duree:"1 mois",number:1,taux:.2},{id:2,duree:"3 mois",number:3,taux:.7},{id:3,duree:"6 mois",number:6,taux:1.7},{id:4,duree:"1 ans",number:12,taux:3.8},{id:5,duree:"2 ans",number:24,taux:8},{id:6,duree:"3 ans",number:36,taux:12.5},{id:7,duree:"5 ans",number:60,taux:22}];function K(t){if(y.value){let i=y.value;C.value=B[i-1].duree,F=B[i-1].taux,console.log("You chose rate: ",F),A=B[i-1].number,console.log("You chose duree: ",A),w=F/100*x.value*(A/12),console.log("Votre Interet est: ",w),j.value=Number(x.value)+Number(w)}}return R(y,t=>{K(y.value),console.log("Vous voulez une periode de : ",C.value)}),R(x,t=>{K(y.value)}),{selectedPlan:y,plans:B,capital:x,result:j,interest:w,periode:C,finished:g,selectedItem:c,currency:h,modalActive:_,waiter:e,respoOperation:T,toogleModal:M}}},pe=o("span",{style:{"margin-right":"1rem"}}," ",-1),ve=o("br",null,null,-1),fe={key:0,class:"loader",style:{"background-color":"transparent",position:"fixed",top:"60%",left:"50%",transform:"translate(-50%, -50%)","z-index":"5"}},be={key:1,class:"home"},_e=o("div",{class:"modal-contente"},[o("h1",null,"Confirmation "),o("p",null,[b("Merci pour votre dépôt. Nous traitons votre demande et vous informerons dès qu'elle sera approuvée. "),o("br"),b(" Veuillez vérifier votre boîte de notifications pour les mises à jour. "),o("br"),o("span",{style:{"font-size":"2.3vh",display:"inline-flex",position:"relative","margin-top":"3vh"}}," Ceci pourra prendre au maximum 10 minutes.")])],-1),ge={key:2,class:"home"},he=o("div",null,[o("h1",{class:"modal-content modal-content-erreur"},"Une erreur est survenue "),o("p",null,[b("Nous n'avons pas pu finaliser votre opération suite à un problème de connexion au serveur. "),o("br"),o("span",{style:{"font-size":"2.3vh",display:"inline-flex",position:"relative","margin-top":"3vh"}}," Veuillez réessayer ultérieurement.")])],-1),ye=o("br",null,null,-1),Ne=o("br",null,null,-1),Te=o("br",null,null,-1);function Ee(T,m,L,e,_,O){const M=r("sol-de"),u=r("ion-select-option"),c=r("ion-select"),E=r("ion-item"),d=r("ion-label"),S=r("ion-input"),g=r("ion-list"),h=r("loa-der"),V=r("empty-modal"),D=r("ion-button"),U=r("base-menu-app");return v(),z(U,{pageTitle:"Investissements",baArrow:"true"},{default:a(()=>[l(M),l(g,null,{default:a(()=>[l(E,null,{default:a(()=>[l(c,{"label-placement":"floating",justify:"space-between",label:"Investir avec",placeholder:"votre methode de paiement",modelValue:e.selectedItem,"onUpdate:modelValue":m[0]||(m[0]=n=>e.selectedItem=n)},{default:a(()=>[(v(!0),I(H,null,G(e.finished,n=>(v(),z(u,{class:"jov",value:n.id},{default:a(()=>[b(f(n.name)+" ("+f(n.country)+") ",1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1}),l(E,null,{default:a(()=>[l(d,null,{default:a(()=>[b("Montant")]),_:1}),pe,l(S,{color:"primary",placeholder:"ou la taille de votre investissement","aria-label":"du destinataire",type:"number",modelValue:e.capital,"onUpdate:modelValue":m[1]||(m[1]=n=>e.capital=n)},null,8,["modelValue"])]),_:1}),l(E,null,{default:a(()=>[l(c,{"label-placement":"floating",justify:"space-between",label:"Choisissez votre plan d'investissement",placeholder:"votre methode de paiement",modelValue:e.selectedPlan,"onUpdate:modelValue":m[2]||(m[2]=n=>e.selectedPlan=n)},{default:a(()=>[(v(!0),I(H,null,G(e.plans,n=>(v(),z(u,{class:"jov",value:n.id},{default:a(()=>[b(f(n.duree)+" ("+f(n.taux)+"%) ",1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),Y(o("span",{style:{display:"inline-flex",position:"relative","margin-top":"10px","font-size":"1.12em"},class:"whiteOnly centered"}," Vous aurez "+f(e.result)+" ("+f(e.currency)+") après une période de "+f(e.periode)+".",513),[[Z,e.selectedPlan&&e.capital]]),ve,e.waiter?(v(),I("div",fe,[l(h)])):k("",!0),e.respoOperation?(v(),I("div",be,[l(V,{onByeModal:e.toogleModal,modalActive:e.modalActive,erreur:"false"},{default:a(()=>[_e]),_:1},8,["onByeModal","modalActive"])])):k("",!0),e.respoOperation?k("",!0):(v(),I("div",ge,[l(V,{onByeModal:e.toogleModal,modalActive:e.modalActive,erreur:"true"},{default:a(()=>[he]),_:1},8,["onByeModal","modalActive"])])),ye,Ne,Te,Y(l(D,{id:"confirmButton",expand:"block",onClick:e.toogleModal},{default:a(()=>[b("Confirmer")]),_:1},8,["onClick"]),[[Z,!e.modalActive&&e.selectedItem]])]),_:1})}const Se=J(me,[["render",Ee]]);export{Se as default};
